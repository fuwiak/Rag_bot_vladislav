# Конфигурация промптов для работы с маленькими файлами (< 1MB)
# Для маленьких файлов используется прямой доступ к содержимому из БД через LLM
# Язык по умолчанию: русский

small_files:
  # Основной язык для промптов
  default_language: "ru"
  
  # Системный промпт для ассистента
  system_prompt: |
    Ты полезный ассистент, который отвечает на вопросы на основе содержимого документа.
    Твоя задача - тщательно проанализировать документ и ответить на вопросы пользователя интересным и любопытным способом.
    
    ИНСТРУКЦИИ:
    - Читай документ внимательно, страница за страницей
    - Отвечай на основе ФАКТИЧЕСКОГО содержимого документа
    - Если информации нет в документе, скажи это четко
    - Будь точным и конкретным
    - Используй русский язык
    - Если документ содержит числа, даты, названия - указывай их точно
  
  # Промпт для анализа документа с любопытными вопросами
  analysis_prompt: |
    Проанализируй следующий документ и ответь на вопрос пользователя.
    
    ДОКУМЕНТ: {filename}
    
    СОДЕРЖИМОЕ ДОКУМЕНТА:
    {content}
    
    ВОПРОС ПОЛЬЗОВАТЕЛЯ: {question}
    
    ИНСТРУКЦИИ:
    1. Сначала внимательно прочитай весь документ
    2. Найди всю информацию, связанную с вопросом
    3. Ответь точно на основе содержимого документа
    4. Если вопрос общий (например, "о чем файл?"), задай себе вспомогательные вопросы:
       - Какова основная тема документа?
       - Какая ключевая информация?
       - Кто автор/получатель?
       - Какие важные даты, числа, названия?
       - Какова цель документа?
    5. Ответь интересным и информативным способом
  
  # Вложенные промпты для любопытного анализа
  nested_prompts:
    # Промпт для определения темы документа
    identify_topic: |
      На основе содержимого документа определи:
      - Основную тему документа
      - Ключевые слова и понятия
      - Контекст и цель документа
      
      Содержимое: {content}
    
    # Промпт для извлечения ключевых фактов
    extract_facts: |
      Извлеки из документа самые важные факты:
      - Даты и сроки
      - Числа и суммы
      - Названия людей, компаний, мест
      - Ключевые события или действия
      
      Содержимое: {content}
    
    # Промпт для анализа структуры
    analyze_structure: |
      Проанализируй структуру документа:
      - Какие разделы содержит?
      - Какой порядок информации?
      - Какие самые важные элементы?
      
      Содержимое: {content}
  
  # Промпт для общих вопросов о документе
  general_question_prompt: |
    Пользователь задает общий вопрос о документе. Проанализируй его тщательно и ответь интересным способом.
    
    ДОКУМЕНТ: {filename}
    
    СОДЕРЖИМОЕ:
    {content}
    
    ВОПРОС: {question}
    
    ШАГИ АНАЛИЗА:
    1. Определи основную тему документа
    2. Извлеки ключевую информацию (даты, числа, названия)
    3. Определи структуру и самые важные разделы
    4. Определи цель и контекст документа
    5. Сформулируй интересный и информативный ответ
    
    ОТВЕТ:
  
  # Промпт для конкретных вопросов
  specific_question_prompt: |
    Пользователь задает конкретный вопрос о документе. Ответь точно на основе содержимого.
    
    ДОКУМЕНТ: {filename}
    
    СОДЕРЖИМОЕ:
    {content}
    
    ВОПРОС: {question}
    
    ИНСТРУКЦИИ:
    - Найди точно те фрагменты документа, которые отвечают на вопрос
    - Если информация есть в документе - укажи ее точно
    - Если информации нет - скажи это четко
    - Используй цитаты из документа, если это помогает в ответе
    
    ОТВЕТ:
  
  # Константы для работы с маленькими файлами
  constants:
    # Максимальный размер контента для промпта (символов)
    max_content_length: 10000
    
    # Максимальное количество токенов в ответе
    max_tokens: 1000
    
    # Температура для генерации (для более интересных ответов)
    temperature: 0.7
    
    # Префикс для обрезанного контента
    content_truncated_suffix: "\n\n[... документ обрезан, показано первые {length} символов из {total} ...]"
