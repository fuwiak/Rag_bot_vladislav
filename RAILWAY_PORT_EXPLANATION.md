# Объяснение PORT на Railway

## Почему Next.js запускается на 8080, а не 3000?

Railway **автоматически** устанавливает переменную `PORT` при запуске контейнера. Next.js читает эту переменную и использует её.

## Как это работает

1. **Railway автоматически устанавливает PORT:**
   - Railway назначает свободный порт (может быть 8080, 3000, или другой)
   - Эта переменная доступна в контейнере как `process.env.PORT`

2. **Next.js читает PORT из окружения:**
   - Next.js standalone server автоматически читает `process.env.PORT`
   - Если PORT не установлен, использует дефолтный (обычно 3000)

3. **В вашем случае:**
   - Railway установил `PORT=8080`
   - Next.js запустился на порту 8080
   - Это **нормально и правильно**!

## Нужно ли устанавливать PORT=3000?

**НЕТ, не обязательно!** Railway сам управляет портами.

### Вариант 1: Не устанавливать PORT (рекомендуется)

Railway автоматически установит PORT, Next.js прочитает его. Это работает из коробки.

### Вариант 2: Установить PORT явно

Если хотите явно указать порт:

```bash
PORT=3000
```

Но Railway может переопределить его, если порт занят.

## Что важно

1. **Next.js правильно читает PORT** - видно из логов:
   ```
   - Local:        http://localhost:8080
   - Network:      http://0.0.0.0:8080
   ```

2. **Railway проксирует трафик** - внешний URL работает независимо от внутреннего порта

3. **PORT=3000 в переменных не обязателен** - Railway сам управляет портами

## Рекомендация

**Уберите `PORT=3000` из переменных окружения Frontend Service.**

Railway автоматически установит правильный PORT, и Next.js его прочитает. Это проще и надежнее.

## Проверка

Если Next.js запустился на 8080 (как в вашем случае), это означает:
- ✅ Railway правильно установил PORT
- ✅ Next.js правильно прочитал PORT
- ✅ Все работает как надо!

Внешний URL (`https://ragbotvladislav-production.up.railway.app`) будет работать независимо от внутреннего порта.

---

**Вывод: PORT=3000 не нужен - Railway сам управляет портами, и Next.js правильно их читает!**









